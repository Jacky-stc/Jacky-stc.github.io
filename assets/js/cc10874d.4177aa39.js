"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3601],{6515:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>d,frontMatter:()=>i,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"React/Client Component\u3001Server Component","title":"Client Component\u3001Server Compon","description":"React Client Component\u3001React Server Component","source":"@site/docs/React/Client Component\u3001Server Component.md","sourceDirName":"React","slug":"/React/Client Component\u3001Server Component","permalink":"/React/Client Component\u3001Server Component","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/React/Client Component\u3001Server Component.md","tags":[],"version":"current","frontMatter":{"title":"Client Component\u3001Server Compon","hide_title":true},"sidebar":"tutorialSidebar","previous":{"title":"268. Missing Number","permalink":"/Leetcode/Missing Number"},"next":{"title":"What is React Query","permalink":"/React/What is React Query"}}');var o=t(4848),s=t(8453);const i={title:"Client Component\u3001Server Compon",hide_title:!0},c=void 0,l={},a=[{value:"React Client Component\u3001React Server Component",id:"react-client-componentreact-server-component",level:2},{value:"\u4f3a\u670d\u5668\u7aef\u8207\u5ba2\u6236\u7aef",id:"\u4f3a\u670d\u5668\u7aef\u8207\u5ba2\u6236\u7aef",level:3},{value:"Network Boundary",id:"network-boundary",level:3},{value:"\u6e32\u67d3\u904e\u7a0b",id:"\u6e32\u67d3\u904e\u7a0b",level:3},{value:"Server Component\u7684\u512a\u9ede",id:"server-component\u7684\u512a\u9ede",level:3}];function p(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"react-client-componentreact-server-component",children:"React Client Component\u3001React Server Component"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"\u53c3\u8003\u8cc7\u6599"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.a,{href:"https://github.com/reactwg/server-components/discussions/4",children:"https://github.com/reactwg/server-components/discussions/4"}),"\n",(0,o.jsx)(n.a,{href:"https://github.com/reactwg/server-components/discussions/5",children:"https://github.com/reactwg/server-components/discussions/5"}),"\n",(0,o.jsx)(n.a,{href:"https://react.dev/reference/rsc/server-components",children:"https://react.dev/reference/rsc/server-components"}),"\n",(0,o.jsx)(n.a,{href:"https://nextjs.org/learn/react-foundations/server-and-client-components",children:"https://nextjs.org/learn/react-foundations/server-and-client-components"}),"\n",(0,o.jsx)(n.a,{href:"https://www.webscope.io/blog/server-components-vs-ssr",children:"https://www.webscope.io/blog/server-components-vs-ssr"}),"\n",(0,o.jsx)(n.a,{href:"https://www.plasmic.app/blog/how-react-server-components-work#what-are-react-server-components",children:"https://www.plasmic.app/blog/how-react-server-components-work#what-are-react-server-components"}),"\n",(0,o.jsx)(n.a,{href:"https://blog.jankoritak.com/so-why-server-components",children:"https://blog.jankoritak.com/so-why-server-components"})]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"\u57282020\u5e74\u4ee5\u524d\uff0cReact\u6e32\u67d3\u5143\u4ef6\u7684\u65b9\u5f0f\u4e3b\u8981\u96c6\u4e2d\u5728\u5ba2\u6236\u7aef\uff0c2020\u5e74\u672bReact\u63a8\u51fa\u4e86React Server Components\uff08RSC\uff09\uff0cRSC\u5e0c\u671b\u80fd\u540c\u6642\u9054\u6210\u4ee5\u4e0b\u4e09\u500b\u539f\u5247"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u826f\u597d\u7684\u7528\u6236\u9ad4\u9a57\uff08Good user experience\uff09"}),"\n",(0,o.jsx)(n.li,{children:"\u7c21\u6613\u7684\u7dad\u8b77\u65b9\u5f0f\uff08Cheap maintainence\uff09"}),"\n",(0,o.jsx)(n.li,{children:"\u5feb\u901f\u7684\u8f09\u5165\u901f\u5ea6\uff08Fast performance\uff09"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"\u5728\u4ecb\u7d39Client Component\u8207Server Component\u4e4b\u524d\u9700\u8981\u5148\u4e86\u89e3\u7db2\u7ad9\u4e2d\u5ba2\u6236\u7aef\u8207\u4f3a\u670d\u5668\u7aef\u7684\u4ea4\u4e92\u65b9\u5f0f"}),"\n",(0,o.jsx)(n.h3,{id:"\u4f3a\u670d\u5668\u7aef\u8207\u5ba2\u6236\u7aef",children:"\u4f3a\u670d\u5668\u7aef\u8207\u5ba2\u6236\u7aef"}),"\n",(0,o.jsxs)(n.p,{children:["\u7db2\u7ad9\u7684\u904b\u884c\u74b0\u5883\uff1a\n",(0,o.jsx)(n.img,{src:"https://nextjs.org/_next/image?url=%2Flearn%2Fdark%2Flearn-client-and-server-environments.png&w=1920&q=75&dpl=dpl_7RCEZ7ANYa8fvdZtoCSNfHXHe3Xk",alt:"Server and Client Enviornment image"})]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u5ba2\u6236\u7aef\uff08Client\uff09\u900f\u904e\u5411\u4f3a\u670d\u5668\u7aef\u767c\u9001\u8acb\u6c42\u53d6\u5f97\u7a0b\u5f0f\u78bc\uff0c\u4e26\u5c07\u56de\u50b3\u7684\u7a0b\u5f0f\u78bc\u8f49\u63db\u70ba\u7528\u6236\u53ef\u4ee5\u9032\u884c\u4e92\u52d5\u7684\u9801\u9762\u3002"}),"\n",(0,o.jsx)(n.li,{children:"\u4f3a\u670d\u5668\u7aef\uff08Server\uff09\u662f\u5132\u5b58\u4f60\u6240\u6709\u7db2\u7ad9\u7a0b\u5f0f\u78bc\u7684\u8cc7\u6599\u4e2d\u5fc3\uff0c\u7576\u63a5\u6536\u4f86\u81ea\u5ba2\u6236\u7aef\u7684\u8acb\u6c42\u6642\u57f7\u884c\u67d0\u4e9b\u64cd\u4f5c\u4e26\u7d66\u4e88\u9069\u7576\u7684\u56de\u61c9\u3002"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u9019\u5169\u500b\u74b0\u5883\u5404\u81ea\u6709\u5b83\u5011\u7684\u529f\u80fd\u8207\u9650\u5236\uff0c\u6b63\u662f\u9019\u6a23\u7684\u7279\u6027\u4f7f\u5f97\u67d0\u4e9b\u64cd\u4f5c\u66f4",(0,o.jsx)(n.strong,{children:"\u9069\u5408"}),"\u5728\u5176\u4e2d\u4e00\u500b\u74b0\u5883\u4e0b\u57f7\u884c\uff0c\u56e0\u6b64\u4e5f\u5c31\u6709\u4e86\u5340\u5206Client Component\u4ee5\u53caServer Component\u7684\u9700\u6c42\u3002"]}),"\n",(0,o.jsx)(n.admonition,{type:"warning",children:(0,o.jsxs)(n.p,{children:["\u5728React\u4e2d\uff0cserver\u8207client\u4e26",(0,o.jsx)(n.strong,{children:"\u4e0d\u662f"}),"\u6307\u7a31\u5be6\u969b\u7269\u7406\u610f\u7fa9\u4e0a\u7684\u300c\u4f3a\u670d\u5668\u300d\u8207\u300c\u700f\u89bd\u5668\u300d\uff0c\u4f60\u53ef\u4ee5\u628a\u4ed6\u5011\u60f3\u6210\u662f\u300cReact server\u300d\u4ee5\u53ca\u300cReact client\u300d\uff0cProps\u6c38\u9060\u6703\u5f9eReact server\u50b3\u5411React client\uff0c\u4e14\u5169\u8005\u4e4b\u9593\u6709\u8457\u5e8f\u5217\u5316\u908a\u754c\uff08Serialization Boundary\uff09\uff0cReact server\u901a\u5e38\u5728build time\u6216\u662f\u5be6\u969b\u7684\u4f3a\u670d\u5668\u4e0a\u904b\u884c\uff0cReact client\u5247\u901a\u5e38\u5728\u5169\u7a2e\u74b0\u5883\u4e0b\u904b\u884c\uff08\u5728\u700f\u89bd\u5668\u8ca0\u8cac\u7ba1\u7406DOM\uff0c\u5728\u5176\u4ed6\u74b0\u5883\u8ca0\u8cac\u751f\u6210\u521d\u59cb\u5316HTML\uff09"]})}),"\n",(0,o.jsx)(n.h3,{id:"network-boundary",children:"Network Boundary"}),"\n",(0,o.jsxs)(n.p,{children:["Network Boudary\u662f\u4e00\u500bReact\u7528\u4f86\u5340\u5206React server\u4ee5\u53caReact client\u4e4b\u9593\u7684\u6982\u5ff5\u5206\u754c\u7dda\uff0c\u5728React\u4e2d\u4f60\u53ef\u4ee5\u81ea\u884c\u6c7a\u5b9a\u5206\u754c\u7dda\u6240\u5728\u7684\u4f4d\u7f6e\uff0c\u7576\u4f60\u5728\u67d0\u500b\u5143\u4ef6\u7684\u9802\u5c64\u4f7f\u7528\u4e86\n",(0,o.jsx)(n.code,{children:"'use client'"}),"\uff0c\u7cfb\u7d71\u4fbf\u6703\u5c07\u5176\u8996\u70baserver component\u8207client component\u7684\u908a\u754c\uff0c",(0,o.jsx)(n.strong,{children:"\u8a72\u5143\u4ef6\u4ee5\u53ca\u5176\u6240\u6709\u7684\u5b50\u5143\u4ef6"}),"\u90fd\u6703\u88ab\u8996\u70baclient component\uff0c\u56e0\u6b64\u5982\u679c\u4f60\u5e0c\u671b\u5728\u67d0\u500b\u5b50\u5143\u4ef6\u4f7f\u7528client component\u7684\u529f\u80fd\uff0c\u4f60\u53ea\u9700\u8981\u5728\u7236\u5143\u4ef6\u8a2d\u7f6e ",(0,o.jsx)(n.code,{children:"'use client'"})," \u5373\u53ef\n",(0,o.jsx)(n.img,{src:"https://nextjs.org/_next/image?url=%2Flearn%2Fdark%2Flearn-client-server-modules.png&w=1920&q=75&dpl=dpl_7RCEZ7ANYa8fvdZtoCSNfHXHe3Xk",alt:"Network Boundary"}),"\n",(0,o.jsx)(n.img,{src:"https://react.dev/_next/image?url=%2Fimages%2Fdocs%2Fdiagrams%2Fuse_client_module_dependency.dark.png&w=640&q=75",alt:"Network Boundary"})]}),"\n",(0,o.jsx)(n.h3,{id:"\u6e32\u67d3\u904e\u7a0b",children:"\u6e32\u67d3\u904e\u7a0b"}),"\n",(0,o.jsx)(n.p,{children:"React server\u6703\u512a\u5148\u5c07\u6e32\u67d3Server Components\uff0c\u6e32\u67d3\u5b8c\u7684Server Components\u6703\u7522\u751f\u4e00\u500b\u7279\u6b8a\u7684\u6a94\u6848\u683c\u5f0f\u53eb\u505aReact Server Component payload\uff08RSC payload\uff09\uff0c\u5176\u4e2d\u6703\u593e\u5e36\u4ee5\u4e0b\u8cc7\u8a0a\uff1a"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Server Component\u6e32\u67d3\u5b8c\u6210\u7684\u975c\u614bHTML"}),"\n",(0,o.jsx)(n.li,{children:"Client Component\u5728Server Component\u4e2d\u7684\u4f54\u4f4d\u7b26\uff08placeholder\uff09\u4ee5\u53ca\u76f8\u5c0d\u61c9\u7684JS\u6a94\u6848\u8def\u5f91"}),"\n",(0,o.jsx)(n.li,{children:"\u6240\u6709Server Component\u9700\u8981\u50b3\u905e\u7d66Client Component\u7684Props"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u63a5\u8457\u6703\u5c07\u9019\u4e9b\u8cc7\u8a0a\u50b3\u9001\u7d66React client\u4e4b\u5f8c\uff0cReact client\u6703\u9032\u884cClient Component\u7684\u975c\u614bHTML\u6e32\u67d3\uff0c\u6700\u5f8c\u5c07Server Component\u3001Client Component\u7684\u975c\u614bHTML\u4ee5\u53ca\u8655\u7406\u4e92\u52d5\u4e8b\u4ef6\u6216\u662f\u8207\u700f\u89bd\u5668\u76f8\u95dc\u7684JS\u4ee3\u78bc\u7b49\u6253\u5305\u50b3\u9001\u81f3\u700f\u89bd\u5668\uff0c\u700f\u89bd\u5668\u7aef\u6703\u5148\u5448\u73fe\u975c\u614b\u7684HTML\uff0c\u4e26\u5c0dClient Component\u9032\u884cHydration\u4f7f\u4ed6\u5011\u6709\u4e92\u52d5\u529f\u80fd\n",(0,o.jsx)(n.img,{src:"https://private-user-images.githubusercontent.com/810438/242937001-f3e95105-4acb-4ae7-9ce5-39bbe2afd515.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzI2NDg2MDAsIm5iZiI6MTczMjY0ODMwMCwicGF0aCI6Ii84MTA0MzgvMjQyOTM3MDAxLWYzZTk1MTA1LTRhY2ItNGFlNy05Y2U1LTM5YmJlMmFmZDUxNS5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjQxMTI2JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI0MTEyNlQxOTExNDBaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1lZDMwMjM3YWY4MGY0YzM3Mjk0ZTM4ZjYxMGVkYWQ2OTQ0MWVkOGFmYjczNWFlYTU1MzJmZTNmODNhMDMxMTZiJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.nNiDkr8o5CUdT8uLjYDoVEZXdSsHAl82grNph5OtYQY",alt:"RSC initial load"})]}),"\n",(0,o.jsx)(n.admonition,{type:"warning",children:(0,o.jsx)(n.p,{children:"React Client Component\u4e0d\u662f\u53ea\u80fd\u5728Client-Side\u6e32\u67d3"})}),"\n",(0,o.jsx)(n.p,{children:"React\u7684\u547d\u540d\u65b9\u5f0f\u53ef\u80fd\u5f88\u5bb9\u6613\u8b93\u4eba\u8aa4\u4ee5\u70baClient Component\u5c31\u662fCSR\uff0cServer Component\u5c31\u662fSSR\uff0c\u4f46\u5176\u5be6Client Component\u7684\u90e8\u5206\u6e32\u67d3\u904e\u7a0b\u9084\u662f\u5728server side\u5b8c\u6210"}),"\n",(0,o.jsx)(n.h3,{id:"server-component\u7684\u512a\u9ede",children:"Server Component\u7684\u512a\u9ede"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u53ef\u4ee5\u76f4\u63a5\u8ddf\u4f3a\u670d\u5668\u62ff\u8cc7\u6599\uff0c\u6e1b\u5c11\u700f\u89bd\u5668\u8ddf\u4f3a\u670d\u5668\u4e4b\u9593\u4f86\u56de\u6e9d\u901a\u7684\u6210\u672c"}),"\n",(0,o.jsxs)(n.li,{children:["Server Component\u5177\u6709Streaming\u6a5f\u5236\uff0c\u53ef\u4ee5\u5206\u6bb5\u50b3\u9001\u6e32\u67d3\u5b8c\u6210\u7684\u975c\u614bHTML\uff0c\u512a\u5316Time to first byte\uff08TTFB\uff09\u7684\u6642\u9593\n",(0,o.jsx)(n.img,{src:"https://images.prismic.io/webscopeio/841052b7-c9e8-4244-a721-41cfbe6ddd45_rsc-time-chart.png?auto=compress,format",alt:""})]}),"\n",(0,o.jsx)(n.li,{children:"\u6e1b\u5c11\u50b3\u9001\u81f3\u700f\u89bd\u5668\u7684bundle js\u5927\u5c0f\uff0c\u7531\u65bcserver component\u662f\u5728server\u9032\u884c\u7de8\u8b6f\uff0c\u56e0\u6b64\u6211\u5011\u5c31\u4e0d\u5fc5\u5c07\u5404\u985e\u7684\u51fd\u5f0f\u5eab\uff0c\u6216\u662f\u4e00\u4e9b\u8a08\u7b97\u7684function\u7b49\u7b49\u4e00\u8d77\u6253\u5305\u50b3\u9001\u81f3\u700f\u89bd\u5668"}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>c});var r=t(6540);const o={},s=r.createContext(o);function i(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);