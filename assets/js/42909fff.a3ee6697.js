"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2479],{7951:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>l,frontMatter:()=>s,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"Redux/Redux\u7c21\u4ecb","title":"Redux\u7c21\u4ecb","description":"Redux\u57fa\u672c\u6982\u5ff5","source":"@site/docs/Redux/Redux\u7c21\u4ecb.md","sourceDirName":"Redux","slug":"/Redux/Redux\u7c21\u4ecb","permalink":"/Redux/Redux\u7c21\u4ecb","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Redux/Redux\u7c21\u4ecb.md","tags":[{"inline":true,"label":"Redux","permalink":"/tags/redux"}],"version":"current","frontMatter":{"title":"Redux\u7c21\u4ecb","tags":["Redux"],"hide_title":true},"sidebar":"tutorialSidebar","previous":{"title":"Redux-Persist\u554f\u984c","permalink":"/Redux/Redux-Persist\u554f\u984c"}}');var i=n(4848),o=n(8453);const s={title:"Redux\u7c21\u4ecb",tags:["Redux"],hide_title:!0},c=void 0,d={},a=[{value:"Redux\u57fa\u672c\u6982\u5ff5",id:"redux\u57fa\u672c\u6982\u5ff5",level:3}];function u(e){const t={a:"a",blockquote:"blockquote",code:"code",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h3,{id:"redux\u57fa\u672c\u6982\u5ff5",children:"Redux\u57fa\u672c\u6982\u5ff5"}),"\n",(0,i.jsx)(t.p,{children:"Redux\u662f\u4e00\u500b\u57fa\u65bcFlux\u904b\u884c\u6a21\u5f0f\u7684\u7b2c\u4e09\u65b9\u5957\u4ef6\uff0c\u5354\u52a9\u6211\u5011\u5c0d\u65bcReact\u4e2d\u7684\u72c0\u614b(state)\u9032\u884c\u7ba1\u7406\u8207\u66f4\u65b0"}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsxs)(t.p,{children:["Flux\u904b\u884c\u6a21\u5f0f\n",(0,i.jsx)(t.img,{src:"https://cdn-media-1.freecodecamp.org/images/1*7qtRmuWoMmFyhpnyxoS3MA.png",alt:"image"})]}),"\n"]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsxs)(t.p,{children:["(\u5716\u7247\u4f86\u6e90\uff1a",(0,i.jsx)(t.a,{href:"https://www.freecodecamp.org/news/an-introduction-to-the-flux-architectural-pattern-674ea74775c9/",children:"https://www.freecodecamp.org/news/an-introduction-to-the-flux-architectural-pattern-674ea74775c9/"}),")"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Redux\u4e3b\u8981\u7531\u5e7e\u500b\u90e8\u5206\u6240\u69cb\u6210\uff1aStore\u3001Reducer\u3001Action"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Action"})}),"\n",(0,i.jsx)(t.p,{children:"Action\u662f\u4e00\u500bplain JavaScript object\uff0c\u4ed6\u63cf\u8ff0\u4e86\u7db2\u7ad9\u6240\u767c\u751f\u7684\u884c\u70ba"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:"{ type: 'ADD_TODO', text: 'Go to swimming pool' }\n{ type: 'TOGGLE_TODO', index: 1 }\n{ type: 'SET_VISIBILITY_FILTER', filter: 'SHOW_ALL' }\n"})}),"\n",(0,i.jsx)(t.p,{children:"\u6211\u5011\u901a\u904eDispatch(\u767c\u9001)Actions\u5230Reducers\u53bb\u6539\u8b8aState"}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Reducer"})}),"\n",(0,i.jsxs)(t.p,{children:["Reducer\u5c31\u662f\u4e00\u500b\u4e00\u500b\u7684function\uff0c\u5c07",(0,i.jsx)(t.code,{children:"Action"}),"\u4ee5\u53ca",(0,i.jsx)(t.code,{children:"State"}),"\u4f5c\u70ba\u53c3\u6578\u4e26\u4e14\u56de\u50b3\u65b0\u7684State\uff0c\u4ee5\u6b64\u4f86\u9054\u6210\u4fee\u6539State\u7684\u76ee\u7684"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-JavaScript",children:"function visibilityFilter(state = 'SHOW_ALL', action) {\nif (action.type === 'SET_VISIBILITY_FILTER') {\n    return action.filter\n  } else {\n    return state\n  }\n}\n\nfunction todos(state = [], action) {\n  switch (action.type) {\n    case 'ADD_TODO':\n      return state.concat([{ text: action.text, completed: false }])\n    case 'TOGGLE_TODO':\n      return state.map((todo, index) =>\n        action.index === index\n          ? { text: todo.text, completed: !todo.completed }\n          : todo\n      )\n    default:\n      return state\n  }\n}\n"})}),"\n",(0,i.jsx)(t.p,{children:"\u6211\u5011\u4e5f\u6703\u5275\u5efa\u4e00\u500bReducer\u5c07\u6240\u6709\u7684Reducers\u96c6\u4e2d\u5728\u4e00\u8d77"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:"function todoApp(state = {}, action) {\n  return {\n    todos: todos(state.todos, action),\n    visibilityFilter: visibilityFilter(state.visibilityFilter, action)\n  }\n"})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Store"})}),"\n",(0,i.jsxs)(t.p,{children:["Store\u8ca0\u8cac\u7ba1\u7406\u6240\u6709\u7684Reducers\uff0c\u53ef\u4ee5\u628a\u5b83\u60f3\u50cf\u6210app state\u7684\u4e00\u500bdatabase\uff0c\u5728\u4e00\u500bapplication\u4e2d\u300c",(0,i.jsx)(t.strong,{children:"\u53ea\u6703\u6709\u4e00\u500bStore"}),"\u300d\nRedux Toolkit\u63d0\u4f9b\u4e86",(0,i.jsx)(t.code,{children:"configureStore"}),"\u51fd\u6578\uff0c\u53ef\u4ee5\u7c21\u5316store\u7684\u5275\u5efa\u548c\u914d\u7f6e"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:"// \u539f\u751f Redux \u9700\u8981\u9019\u6a23\u5beb\nimport { createStore, applyMiddleware, combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst store = createStore(\n  combineReducers(rootReducer),\n  applyMiddleware(thunk),\n);\n\n// RTK \u5247\u7c21\u5316\u70ba\uff1a\nimport { configureStore } from '@reduxjs/toolkit';\n\nconst store = configureStore({\n  reducer: rootReducer,\n});\n\n"})}),"\n"]}),"\n"]})]})}function l(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>c});var r=n(6540);const i={},o=r.createContext(i);function s(e){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);